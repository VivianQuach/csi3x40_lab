<!DOCTYPE html>
<html lang = "en"> 
    <head> 
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>PacMan</title>
    </head>
    <body> 

        <script type = "text/javascript">
            function createGame(n){
                const board = new Array(n).fill("."); 
                let pacman = Math.floor(Math.random() * n); 
                let fruit = Math.floor(Math.random() * n); 
                let ghost = Math.floor(Math.random() * n); 
                while (true){
                    if (pacman === ghost){
                        ghost = Math.floor(Math.random() * n); 
                    }else if (pacman === fruit){
                        fruit = Math.floor(Math.random() * n); 
                    }else if (fruit === ghost ){
                        ghost = Math.floor(Math.random() * n); 
                    }else{
                        break; 
                    }
                }
                board[pacman] = "C"; 
                board[ghost] = "^.";
                board[fruit] = "@";
                console.log(board);
                return board;

            }
            function moveRight(board, score){
                let pacmanIndex = board.indexOf("C");
                if (pacmanIndex < board.length - 1) {
                    let newIndex = pacmanIndex + 1;
                   // Swap positions
                    if (board[newIndex] === ".") {
                        board[newIndex] = "C";
                        board[pacmanIndex] = " ";
                        score += 1;
                    } else if (board[newIndex] === "@") {
                        board[newIndex] = "C";
                        board[pacmanIndex] = " ";
                    } else if (board[newIndex] === "^.") {
                        board[newIndex] = "^C";
                        board[pacmanIndex] = " ";
                        score += 1; 
                    } else if (board[newIndex] === "@^") {
                        board[newIndex] = "@^C";
                        board[pacmanIndex] = " ";
                    }else if (board[newIndex] = " ") {
                        board[newIndex] = "C";
                        board[pacmanIndex] = " ";
                    }
                }
                console.log(board );
                console.log("\nThe Score: " + score);
                return board;
            }
            function moveLeft(board){
                let pacmanIndex = board.indexOf("C");
                if (pacmanIndex > 0) {
                    let newIndex = pacmanIndex - 1;
                   // Swap positions
                    if (board[newIndex] === ".") {
                        board[newIndex] = "C";
                        board[pacmanIndex] = " ";
                        score += 1; 
                    } else if (board[newIndex] === "@") {
                        board[newIndex] = "C";
                        board[pacmanIndex] = " ";
                        console.log(board );
                console.log("\nThe Score: " + score);
                    } else if (board[newIndex] === "^.") {
                        board[newIndex] = "^C";
                        board[pacmanIndex] = " ";
                    } else if (board[newIndex] === "@^") {
                        board[newIndex] = "@^C";
                        board[pacmanIndex] = " ";
                    }else if (board[newIndex] = " ") {
                        board[newIndex] = "C";
                        board[pacmanIndex] = " ";
                    }
                }
                console.log(board );
                console.log("\nThe Score: " + score);
                return board;
            }
            var board = createGame(10);
            var score = 0; 
            moveRight(board, score);
            moveLeft(board, score);

        </script> 
    </body>
</html>